% Define rigid frames, variables, points, and constants
RigidFrame N, B, Bbalance, CY, CX, CZ
Variable qBx'', qCx'', qCy'', qCz''
Point N0(N), Bcm(B), CXcm(CX), CYcm(CY), CZcm(CZ)
Constant L
Constant q1_balance = 45 degrees

% Define relations between reference frames
Bbalance.Rotate(N, nz>, q1_balance)
B.Rotate(Bbalance, nx>, qBx'')
CX.Rotatex(B, qCx)
CY.RotateY(B, qCy)
CZ.RotateZ(B, qCz)

% Display angular velocities and angular accelerations
w_B_N> = qBx'*nx>
alf_B_N> = qBx''*nx>

% Define positions of points of interest
p_N0_Bcm> = L/3 * bx> + L/3 * by> + L/3 * bz>
p_N0_CXcm> = L/2 * by> + L/2 * Bz>
p_N0_CYcm> = L/2 * bx> + L/2 * Bz>
p_N0_CZcm> = L/2 * bx> + L/2 * by>

% Calculate velocities and accelerations of points of interest
v_N0_N> = 0>
Bcm.SetVelocity(N, Dt(p_N0_Bcm>, N))
Bcm.SetAcceleration(N, Dt(v_Bcm_N>, N))
% CZcm.SetVelocity(N, Dt(p_N0_CZcm>, N))
% CZcm.SetAcceleration(N, Dt(v_CZcm_N>, N))

% Compute angular momentum of the rotor and cube